{"version":3,"file":"1-timer-c4177c95.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const startButton = document.querySelector('[data-start]');\n    const datetimePicker = document.getElementById('datetime-picker');\n\n    const daysSpan = document.querySelector('[data-days]');\n    const hoursSpan = document.querySelector('[data-hours]');\n    const minutesSpan = document.querySelector('[data-minutes]');\n    const secondsSpan = document.querySelector('[data-seconds]');\n\n    let countdownInterval;\n    let userSelectedDate = null;\n\n    const options = {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n        minuteIncrement: 1,\n        onClose(selectedDates) {\n            const selectedDate = selectedDates[0];\n            if (selectedDate <= new Date()) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Please choose a date in the future',\n                });\n                startButton.disabled = true;\n            } else {\n                userSelectedDate = selectedDate;\n                startButton.disabled = false;\n            }\n        },\n    };\n\n    flatpickr(datetimePicker, options);\n\n    startButton.addEventListener('click', function () {\n        if (!userSelectedDate) {\n            return;\n        }\n\n        datetimePicker.disabled = true;\n        startButton.disabled = true;\n\n        if (countdownInterval) {\n            clearInterval(countdownInterval);\n        }\n\n        countdownInterval = setInterval(() => {\n            const now = new Date();\n            const timeRemaining = userSelectedDate - now;\n\n            if (timeRemaining <= 0) {\n                clearInterval(countdownInterval);\n                updateTimerDisplay(0, 0, 0, 0);\n                iziToast.info({\n                    title: 'Time Up',\n                    message: 'The countdown has ended!',\n                });\n                datetimePicker.disabled = false;\n                return;\n            }\n\n            const { days, hours, minutes, seconds } = convertMs(timeRemaining);\n            updateTimerDisplay(days, hours, minutes, seconds);\n        }, 1000);\n    });\n\n    function updateTimerDisplay(days, hours, minutes, seconds) {\n        daysSpan.textContent = addLeadingZero(days);\n        hoursSpan.textContent = addLeadingZero(hours);\n        minutesSpan.textContent = addLeadingZero(minutes);\n        secondsSpan.textContent = addLeadingZero(seconds);\n    }\n\n    function addLeadingZero(value) {\n        return String(value).padStart(2, '0');\n    }\n\n    function convertMs(ms) {\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n\n        const days = Math.floor(ms / day);\n        const hours = Math.floor((ms % day) / hour);\n        const minutes = Math.floor(((ms % day) % hour) / minute);\n        const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n        return { days, hours, minutes, seconds };\n    }\n});\n"],"names":["startButton","datetimePicker","daysSpan","hoursSpan","minutesSpan","secondsSpan","countdownInterval","userSelectedDate","flatpickr","selectedDates","selectedDate","iziToast","timeRemaining","updateTimerDisplay","days","hours","minutes","seconds","convertMs","addLeadingZero","value","ms"],"mappings":"svBAKA,SAAS,iBAAiB,mBAAoB,UAAY,CACtD,MAAMA,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAiB,SAAS,eAAe,iBAAiB,EAE1DC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EACAC,EAAmB,KAsBvBC,EAAUP,EApBM,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQQ,EAAe,CACnB,MAAMC,EAAeD,EAAc,CAAC,EAChCC,GAAgB,IAAI,MACpBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCAC7B,CAAiB,EACDX,EAAY,SAAW,KAEvBO,EAAmBG,EACnBV,EAAY,SAAW,GAE9B,CACT,CAEqC,EAEjCA,EAAY,iBAAiB,QAAS,UAAY,CACzCO,IAILN,EAAe,SAAW,GAC1BD,EAAY,SAAW,GAEnBM,GACA,cAAcA,CAAiB,EAGnCA,EAAoB,YAAY,IAAM,CAElC,MAAMM,EAAgBL,EADV,IAAI,KAGhB,GAAIK,GAAiB,EAAG,CACpB,cAAcN,CAAiB,EAC/BO,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7BF,EAAS,KAAK,CACV,MAAO,UACP,QAAS,0BAC7B,CAAiB,EACDV,EAAe,SAAW,GAC1B,MACH,CAED,KAAM,CAAE,KAAAa,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAa,EACjEC,EAAmBC,EAAMC,EAAOC,EAASC,CAAO,CACnD,EAAE,GAAI,EACf,CAAK,EAED,SAASJ,EAAmBC,EAAMC,EAAOC,EAASC,EAAS,CACvDf,EAAS,YAAciB,EAAeL,CAAI,EAC1CX,EAAU,YAAcgB,EAAeJ,CAAK,EAC5CX,EAAY,YAAce,EAAeH,CAAO,EAChDX,EAAY,YAAcc,EAAeF,CAAO,CACnD,CAED,SAASE,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACvC,CAED,SAASF,EAAUG,EAAI,CAMnB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAC1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EACpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EACjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACzC,CACL,CAAC"}